<ion-header>
  <ion-toolbar>
    <ion-title>Add New Workout</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
	<ion-col>
	<form [formGroup]="workoutForm" (ngSubmit)="onSubmit()">
    <ion-item>
      <ion-label position="floating">Session Title</ion-label>
      <ion-input type="text" formControlName="title" required></ion-input>
    </ion-item>
<!--     <div formArrayName="working">
    	<div *ngFor="let work of workoutForms.controls; let i=index" [formGroupName]="i"> -->
<!--     <ion-item>
	    <ion-label>Select Workout</ion-label>
	    <ion-select formControl="exercise">
	      <ion-select-option *ngFor="let workout of workouts" value="{{workout.wName}}">{{workout.wName}}</ion-select-option>
	    </ion-select>
	    <ion-button (click)="addWorkout()" color="dark">Cancel</ion-button>
  	</ion-item> -->
  	<ion-button size="small" expand="block" color="light" (click)="addControl()">Add Exercise</ion-button>
<!--   		</div>
  	</div> -->
  	<ion-list lines="none">
  	<table width="100%">
  	<tr *ngFor="let control of workoutForm.controls | keyvalue">
  	<td>	
  	<!-- <ion-select placeholder="Exercise" formControl="control.key" (change)="selectYpe({{workout.wType}})"> -->
	<ion-select placeholder="Exercise" formControl="{{control.key}}" (ionChange)="onChange(selectYpe(control.key.value))">
	      <ion-select-option *ngFor="let workout of workouts" value="{{workout.wType}}">{{workout.wName}}</ion-select-option>
	</ion-select>
 	 </td><td>
  	 <ion-item >
     <ion-icon (click)="removeControl(control)" name="close-circle"></ion-icon>
     </ion-item>
    </td>
 	</tr>
 	</table>
    </ion-list>
	<br />
    <br />   	
<!--     <ion-item *ngFor="let control of workoutForm.controls | keyvalue">
        <ion-label>Select Workout</ion-label>
	    <ion-select formControl="control.key">
	      <ion-select-option *ngFor="let workout of workouts" value="{{workout.wName}}">{{workout.wName}}</ion-select-option>
	    </ion-select>
	    <div *ngIf="workout.wType == 'Time'">
        <ion-input  required type="text" [formControlName]="another.key" placeHolder="duration"></ion-input>
    	</div>
        <ion-icon (click)="removeControl(control)" name="close-circle"></ion-icon>
    </ion-item>   --> 
      <div class="ion-text-center">
        <ion-button (click)="cancel()" color="light">Cancel</ion-button>
        &nbsp;
        <ion-button type="submit" color ="success">Add</ion-button>
      </div>
    </form>
  </ion-col>

</ion-content> 
